---
import '../styles/global.css';
import KotaBackgroundWrapper from '../components/KotaBackgroundWrapper.astro';

export interface Props {
  title: string;
  description?: string;
  image?: string;
}

const { title, description = "Outrun Studio - Idaho Falls' premier digital marketing agency specializing in web design, graphic design, SEO, and PPC advertising.", image = "/images/logo-design-outrun-studio.png" } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={Astro.url} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={image} />

    <title>{title}</title>
  </head>
  <body class="relative text-gray-900" style="background-color: black;">
    <!-- Site-wide particle background -->
    <KotaBackgroundWrapper
      position="fixed"
      zIndex={-400}
      variation={0}
      darkBackground={true}
      customColors={{ red: 0.45, green: 0.18, blue: 0.82 }}
      colorPalette={[
        { red: 0, green: 1, blue: 0.75, name: 'Purple' },
        { red: 0, green: 0.12, blue: 1, name: 'Blue' },
        { red: 0.03, green: 1, blue: 0.84, name: 'Pink' },
        { red: 0.01, green: 0.12, blue: 0.04, name: 'Green' },
        { red: 0.98, green: 0.02, blue: 0.93, name: 'Orange' },
        { red: 0.46, green: 0.5, blue: 0.05, name: 'Magenta' },
      ]}
      noiseType="scanlines"
      noiseStrength={0}
      particleSpeed={1.0}
      particleSize={1.0}
      particleCount={1000}
      particleOpacity={0.8}
      particleTrail={0.5}
      mouseInteraction={true}
      interactionRadius={0.3}
      interactionStrength={0.5}
      waveAmplitude={1.0}
      waveFrequency={1.0}
      spiralSpeed={1.0}
      orbitRadius={1.0}
      orbitSpeed={1.0}
      motionType="chaos"
      bloomEffect={false}
      bloomIntensity={0.5}
      bloomThreshold={0.5}
    />
    
    <slot />
  </body>
</html>

<style is:global>
  html {
    font-family: system-ui, sans-serif;
  }
  
  body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
  }

  /* Ensure content creates its own stacking context without forcing z-index */
  main, section, header, footer, nav {
    position: relative;
  }

  .dark-theme {
    color: white;
  }
</style>
